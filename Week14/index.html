<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Image Slider</title>
    <style>
        body {
            margin: 0;
            background: #111;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: sans-serif;
            overflow: hidden;
        }

        /* The Scene: Needs perspective to create depth */
        .scene {
            width: 260px;
            height: 360px;
            perspective: 1000px; /* Determines how "deep" the 3D space looks */
        }

        /* The Carousel: Holds the items and rotates */
        .carousel {
            width: 100%;
            height: 100%;
            position: absolute;
            transform-style: preserve-3d; /* Vital: Allows children to exist in 3D space */
            transition: transform 1s ease-in-out; /* Smooth rotation */
        }

        /* The Cards (Images) */
        .carousel__cell {
            position: absolute;
            width: 240px;
            height: 340px;
            left: 10px;
            top: 10px;
            border-radius: 15px;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.1);
            /* Nice reflection effect */
            -webkit-box-reflect: below 10px linear-gradient(transparent, rgba(0,0,0,0.3));
        }

        .carousel__cell img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        /* Navigation Buttons */
        .controls {
            position: absolute;
            bottom: 50px;
            display: flex;
            gap: 20px;
        }

        .btn {
            padding: 10px 20px;
            background: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.3s;
        }

        .btn:hover {
            background: #00d2ff;
            color: white;
            box-shadow: 0 0 15px #00d2ff;
        }
    </style>
</head>
<body>

    <div class="scene">
        <div class="carousel">
            <div class="carousel__cell"><img src="https://picsum.photos/300/400?random=1" alt="Image 1"></div>
            <div class="carousel__cell"><img src="https://picsum.photos/300/400?random=2" alt="Image 2"></div>
            <div class="carousel__cell"><img src="https://picsum.photos/300/400?random=3" alt="Image 3"></div>
            <div class="carousel__cell"><img src="https://picsum.photos/300/400?random=4" alt="Image 4"></div>
            <div class="carousel__cell"><img src="https://picsum.photos/300/400?random=5" alt="Image 5"></div>
            <div class="carousel__cell"><img src="https://picsum.photos/300/400?random=6" alt="Image 6"></div>
        </div>
    </div>

    <div class="controls">
        <button class="btn" id="prev">Previous</button>
        <button class="btn" id="next">Next</button>
    </div>

    <script>
     // JavaScript to handle carousel rotation
        // We first locate the carousel element box from html
        //  The browser gives us that box so we can move or rotate it later
        const carousel = document.querySelector('.carousel');

        const cells = document.querySelectorAll('.carousel__cell');
         // we count how many cells items we have. This no decides how much rotation we need to apply
        const cellCount = cells.length; // Total number of cells
       


        // We start with the index zero, this means the first image in the list
        let selectedIndex = 0; // To keep track of the current index


        // Maths that nobody likes but is necessary for 3D rotation
        const theta = 360/cellCount;
         // We measure the width of carousel area Why : because we required to
         // calculate the distance from the center
        // OffsetWidth gives the exact width on the screen
        const cellWidth = carousel.offsetWidth; // Width of the carousel

        // the formula to build the circle radius automatically
        const radius = Math.round( (cellWidth / 2) / Math.tan( Math.PI / cellCount ) );


        // Function to rotate the carousel
        function rotateCarousel(){
            // Lets calculate the angle to rotate
            // Each time we click next or previous button the (selectedIndex) changes
            // We need to rotate the carousel in the opposite direction (-1)
            const angle = theta * selectedIndex * -1;

            // Translate Z pushes the carousel away from the view along the Z axis
            // -radius means that we are pushing it back by the radius distance we calculated earlier
            // rotateY rotates the carousel around the Y axis by the calculated angle
            carousel.style.transform = 
                'translateZ(' + -radius + 'px)' +
                'rotateY(' + angle + 'deg)';

        }

        // Position of each item in the circle
        for(let i=0; i<cellCount; i++){
            const cell = cells[i];
            if(i < cellCount){
                const cellAngle = theta * i;
                cell.style.transform =
                    'rotateY(' + cellAngle + 'deg)' +
                    'translateZ(' + radius + 'px)';
            }
        }

        // call the rotate function to do set up correctly
        rotateCarousel();
        document.getElementById('prev').addEventListener('click', ()=>{
            selectedIndex--;
            rotateCarousel();
        })
        document.getElementById('next').addEventListener('click', ()=>{
            selectedIndex++;
            rotateCarousel();
        })

 
    </script>
</body>
</html>
